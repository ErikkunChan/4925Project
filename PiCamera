from picamera import PiCamera
from time import sleep
import RPi.GPIO as gpio
import datetime

gpio.setmode(gpio.BCM)

#Button Connected to GPIO Pin 18
gpio.setup(18, gpio.IN, pull_up_down=gpio.PUD_UP)

# Initialize Camera and Set Exposure Mode
camera= PiCamera()
camera.exposure_mode = 'antishake'

#Ctrl + c in Terminal to Get Out of Infinite Loop	
while True:
	
	#Get values from button presses
	inputCamera = gpio.input(18)

	# If The Camera Button is Pressed Take a Photo and Save With Current Date and Time
	if inputCamera == False:
		print('Camera Button Pressed')
		camera.capture('/home/pi/Documents/' +  datetime.datetime.now().strftime('%Y-%m-%d%H:%M:%S') + '.png')
		sleep(.2)
